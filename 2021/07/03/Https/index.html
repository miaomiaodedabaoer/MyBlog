
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>HTTPS</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=2.0">
<link rel="stylesheet" href="/css/style.css">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="manifest" href="/site.webmanifest">

        
    
    <link rel='stylesheet' href="/./css/dracula.css">

    <meta name="generator" content="Hexo 4.2.0"></head>
    <body>
        <header class="al_header al_pos_fixed">
    <div class="al_header_container dis_flex_jcenter">
        <div class="al_header_container_left">
            <div class="al_header_site_title">
                <a href="/">Mmddb</a>
            </div>
        </div>

        <div class="dis_flex_jcenter">
            <div class="al_header_setting">
                <svg class="al_header_icon">
                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-menu"></use>
                </svg>
            </div>
        </div>
    </div>
</header>

        <div class="al_sidebar">

    <div class="al_sidebar_overlay al_full_cover"></div>

    <div class="al_pos_fixed al_sidebar_cnt">
        <div class="dis_flex_acenter al_sidebar_header">
            <h3>Mmddb</h3>
            <div class="al_sidebar_close al_header_setting">
                <svg class="al_header_icon">
                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-close"></use>
                </svg>
            </div>
        </div>

        <div class="al_sidebar_author_cnt">

            <div class="al_sidebar_author_info">
                <h4>Zhang Penghe</h4>
                <img class="al_sidebar_avatar" src="https://github.com/mmddb">
                <p></p>
            </div>

            
                <div class="al_sidebar_contact_info">
                    <h4>GET IN TOUCH</h4>
                    <p>一个迷茫的沙沙</p>

                    <div class="dis_flex al_sidebar_social_widget">
                        
                        

                        
                        

                        
                        

                        
                        
                            <div class="al_social_icon_cnt" data_link="https://www.github.com/mmddb">
                                <svg class="al_social_icon" id="github">
                                    <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#icon_github"></use>
                                </svg>
                            </div>
                        

                        
                        
                    </div>
                </div>
            
        </div>
    </div>
</div>

        
    <div class="dis_flex_center al_lightbox_cnt al_full_cover">
        <img class="al_lightbox_img"/>
    </div>
    <div class="al_page_background dis_flex_center al_full_cover"></div>
    <div class="al_page_container">
        <div class="al_pos_ab al_fake_background"></div>
        <div class="al_main_container al_shadow al_main_page_container">
            <article class="al_article">
                <header>
                    <h1 class="al_page_title">
                        HTTPS
                    </h1>
                    <div class="al_page_info dis_flex">
                        <div class="al_page_content_info">
                            Sat July 3, 2021 10:30 PM
                        </div>

                        
                            <div class="al_page_content_info">
                                1.1k words
                            </div>
                        

                        
                            <div class="al_page_content_info">
                                3 minutes read
                            </div>
                        
                        <span class="tags"></span>
                    </div>
                </header>

                
                    <div class="al_page_content_outline">
                        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#HTTP-的问题"><span class="toc-text">HTTP 的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#可能被窃听"><span class="toc-text">可能被窃听</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#内容可能被篡改"><span class="toc-text">内容可能被篡改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不验证身份"><span class="toc-text">不验证身份</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HTTPS"><span class="toc-text">HTTPS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SSL-的加密"><span class="toc-text">SSL 的加密</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HTTPS-缺点"><span class="toc-text">HTTPS 缺点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#各种加密方式"><span class="toc-text">各种加密方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#共享密钥加密"><span class="toc-text">共享密钥加密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#公开密钥加密"><span class="toc-text">公开密钥加密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#混合密钥加密"><span class="toc-text">混合密钥加密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#消息认证码"><span class="toc-text">消息认证码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#数字签名"><span class="toc-text">数字签名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#数字证书"><span class="toc-text">数字证书</span></a></li></ol></li></ol></li></ol></li></ol>
                    </div>
                

                
                <section id="post-body">
                    <h1 id="HTTP-的问题"><a href="#HTTP-的问题" class="headerlink" title="HTTP 的问题"></a>HTTP 的问题</h1><p>从 HTTP 协议本身来看，其存在几大问题：</p>
<h3 id="可能被窃听"><a href="#可能被窃听" class="headerlink" title="可能被窃听"></a>可能被窃听</h3><p>HTTP 本身不具备加密的功能，在互联网的线路上传输时，可能会被人收集，这样就会看到通信内容。</p>
<p>解决： 对信道加密（结合 SSL 和 TLS）； 对内容加密</p>
<h3 id="内容可能被篡改"><a href="#内容可能被篡改" class="headerlink" title="内容可能被篡改"></a>内容可能被篡改</h3><p>HTTP 请求或响应在传输途中，可能遭到攻击者拦截并篡改，这种方式称为中间人攻击（Man-In-Middle attack). </p>
<h3 id="不验证身份"><a href="#不验证身份" class="headerlink" title="不验证身份"></a>不验证身份</h3><p>只要知道 IP 和端口，任何人都可以发起请求，服务器也会响应。解决：使用 SSL ，查看证书 CA， 证书由第三方颁发，客户端通信前先确认证书。</p>
<h1 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h1><p>https 的出现正是解决了这些问题，https 并不是一种新的协议，只是 HTTP 通信接口部分用 <strong>SSL</strong>（Secure Socket Layer）和 <strong>TLS</strong> ( Transport Layer Security)，其和 http 的区别简单来说就是：</p>
<p><strong>HTTP + 加密 + 完整性保护 + 身份认证 = HTTPS</strong></p>
<h3 id="SSL-的加密"><a href="#SSL-的加密" class="headerlink" title="SSL 的加密"></a>SSL 的加密</h3><p>SSL 的加密结合了 <strong>共享密钥</strong> 和 <strong>公开密钥</strong>。公开密钥更安全，但是通信效率比较低；因此 SSL 先使用 公开密钥加密方式来传输在后面的共享密钥加密使用的密钥，确保交换的密钥安全后，使用共享密钥加密方式进行通信。</p>
<p>但是，在第一次通信时，客户端无法证明公开密钥本身的真实性；为解决这种问题，服务器可以向数字证书认证机构申请一个数字签名，在通信时一并发给客户端，客户端拿着签名去验证即可。</p>
<h1 id="HTTPS-缺点"><a href="#HTTPS-缺点" class="headerlink" title="HTTPS 缺点"></a>HTTPS 缺点</h1><ol>
<li><p>耗费资源</p>
<p>与纯文本通信相比，加密通信会消耗服务器更多的资源</p>
</li>
<li><p>速度慢</p>
<p>多了 SSL 通信部分，还有加密解密部分，整体速度比HTTP慢 2 到 100倍</p>
</li>
<li><p>证书贵</p>
<p>要进行 HTTPS 通信，证书是必不可少的。而使用的证书必须向认 证机构（CA）购买。因此一些个人网站，可能无法负担这一开销</p>
</li>
</ol>
<h1 id="各种加密方式"><a href="#各种加密方式" class="headerlink" title="各种加密方式"></a>各种加密方式</h1><h4 id="共享密钥加密"><a href="#共享密钥加密" class="headerlink" title="共享密钥加密"></a>共享密钥加密</h4><p>接收方和发送方使用同一把密钥进行解密和加密工作，发送方要把密钥发给接收方，在这个过程中 密钥 可能会泄漏，但是这种方式 加密，解密速度快</p>
<h4 id="公开密钥加密"><a href="#公开密钥加密" class="headerlink" title="公开密钥加密"></a>公开密钥加密</h4><p>接收方生成，公钥和私钥，公钥发给发送方，发送方使用 <strong>公钥</strong> 进行 <strong>加密</strong>，再把密文发送给接收方，接收方使用 <strong>私钥</strong> 进行 <strong>解密</strong>。</p>
<p>保证了 密钥 传递的安全，但是解密加密较慢，并且 公开密钥 在传递过程中可能被中间人截取，给发送方发一个错误的，中间人使用正确的公钥 加密 错误的信息给接收方，发送方，接收方并不知情（中间人攻击）</p>
<h4 id="混合密钥加密"><a href="#混合密钥加密" class="headerlink" title="混合密钥加密"></a>混合密钥加密</h4><p>使用公开密钥的方式 传递 共享密钥，确保 共享密钥 传输正确，之后用共享密钥来通信。</p>
<h4 id="消息认证码"><a href="#消息认证码" class="headerlink" title="消息认证码"></a>消息认证码</h4><p>防止密文被篡改，使用一个共享密钥对信息进行计算，得到（类似哈希值） MAC（message authentication code) 连同这个码发给接收方，接收方根据同样的密钥进行解密</p>
<p>但是，由于两方都可以自己生成 MAC，这个信息是自己伪造的还是真正发过来的没办法识别，</p>
<h4 id="数字签名"><a href="#数字签名" class="headerlink" title="数字签名"></a>数字签名</h4><p>数字签名可以解决该事后否认的问题：发送者在发送时给消息加上数字签名，数字签名的生成使用公开密钥加密，发送者通过私钥生成，接收者使用公钥对签名进行解密，这样就可以确认消息的发送者。</p>
<p>但是无法保证公开密钥确实来自发送者，有可能被中间人替换</p>
<h4 id="数字证书"><a href="#数字证书" class="headerlink" title="数字证书"></a>数字证书</h4><p>认证中心通过自己的私钥，对发送者的资料（发送者的公钥已经个人信息）生成数字签名，加上资料放到数字证书里，发给发送者，发送者再发给接收者，接收者通过认证中心的公钥对证书内对签名进行认证，来确认确实来自发送者。</p>

                </section>

                
                
                

            </article>

            
            <nav class="dis_flex al_post_nav">
                <a class="al_post_nav_item dis_flex_acenter" href="/2021/07/04/%E8%BF%AD%E4%BB%A3%E9%81%8D%E5%8E%86%E4%BA%8C%E5%8F%89%E6%A0%91/">
                    
                        <svg class="al_arrow">
                            <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-arrow-left"></use>
                        </svg>
                        <span class="al_text_ellipsis al_post_nav_desc">迭代遍历二叉树</span>
                    
                </a>
                <a class="al_post_nav_item dis_flex_acenter" href="/2021/07/01/JWT/">
                    
                        <span class="al_text_ellipsis al_post_nav_desc">JWT</span>
                        <svg class="al_arrow">
                            <use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-arrow-right"></use>
                        </svg>
                    
                </a>
            </nav>
        </div>
    </div>


        <div class="al_index_footer dis_flex_center">
    <div class="al_index_footer_item al_index_footer_title">
        Zhang Penghe
    </div>

    
    

    <div class="al_index_footer_item al_index_footer_extra">
        Created By 
        <a href="https://github.com/iGuan7u/Acetolog" target="_blank" rel="noopener">AcetoLog</a>
         · Power By 
        <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>
    </div>

    <div class="al_index_footer_item al_index_footer_extra_right">
        All Right Reserved
    </div>
</div>

        <script type="text/javascript" async="async" src="/javascripts/acelog.js"></script>
        
        
        
        
    </body>
</html>
        